!function(o){o.each(["frontend/element_ready/xts_dynamic_discounts_table.default"],function(t,n){XTSThemeModule.xtsElementorAddAction(n,function(){XTSThemeModule.renderDynamicDiscountsTable()})}),XTSThemeModule.renderDynamicDiscountsTable=function(){var t=o(".variations_form");let a=o(".xts-dynamic-discounts"),n=a.html();function i(){o(".xts-dynamic-discounts tbody tr").on("click",function(){var t=o(this).data("min");o('.quantity input.qty[name="quantity"]').val(t).trigger("change")})}function e(t,i){t.find("tbody tr").each(function(){var t=o(this),n=t.data("min"),a=t.data("max");!a&&n<=i||n<=i&&i<=a?t.addClass("xts-active"):t.removeClass("xts-active")})}t.each(function(){o(this).on("found_variation",function(t,n){o.ajax({url:xts_settings.ajaxurl,data:{action:"xts_update_discount_dynamic_discounts_table",variation_id:n.variation_id},beforeSend:function(){a.find(".xts-loader-overlay").addClass("xts-loading")},success:t=>{a.html(t),i(),e(o(".xts-dynamic-discounts"),o(this).find('[name="quantity"]').val()),a.find(".xts-loader-overlay").removeClass("xts-loading")},dataType:"json",method:"GET"})}).on("click",".reset_variations",function(){a.html(n),i(),e(o(".xts-dynamic-discounts"),o(this).closest("form").find('.quantity input.qty[name="quantity"]').val())})}),i(),o('.quantity input.qty[name="quantity"]').off("change").on("change",function(){e(a,o(this).val())})},o(document).ready(()=>{XTSThemeModule.renderDynamicDiscountsTable()})}(jQuery);