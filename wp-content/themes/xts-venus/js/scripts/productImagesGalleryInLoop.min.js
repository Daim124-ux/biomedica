!function(r){XTSThemeModule.$document.on("xtsSingleProductAccordionClick xtsWishlistRemoveSuccess xtsProductTabLoaded xtsElementorProductTabsReady xtsPjaxComplete xtsProductLoadMoreReInit",function(){XTSThemeModule.imagesGalleryInLoop()}),r.each(["frontend/element_ready/xts_products.default","frontend/element_ready/xts_single_product_tabs.default"],function(t,e){XTSThemeModule.xtsElementorAddAction(e,function(){XTSThemeModule.imagesGalleryInLoop()})}),XTSThemeModule.imagesGalleryInLoop=function(){r(".xts-product").each(function(){var s,t,e=r(this),a=e.find(".xts-product-grid-slider-wrapp");function d(t,e){let s={};var a,i,d=e.parent().children(),r=e.parent().find(".xts-active"),n=t.find("> img"),o=t.find("picture");e.siblings().removeClass("xts-active"),e.addClass("xts-active"),n.length?(n.addClass("xts-hide"),s=t.find(".wp-image-"+e.data("image-id"))):o.length&&(o.first().hasClass("wp-image-"+d.first().data("image-id"))||o.first().addClass("wp-image-"+d.first().data("image-id")),o.addClass("xts-hide"),(s=t.find(".wp-image-"+e.data("image-id"))).length||(s=t.find("img[src="+r.data("src")+"]").parent())),s.length?s.removeClass("xts-hide"):(t=e.data("image-src"),r=e.data("image-srcset"),a=e.data("image-sizes"),n.length?((i=n.first().clone()).attr("src",t),i.attr("loading",null),r?(i.attr("srcset",r),i.attr("sizes",a)):i.attr("srcset")&&i.attr("srcset",t),i.removeClass("xts-hide wp-image-"+d.first().data("image-id")),i.addClass("wp-image-"+e.data("image-id")),n.parent().append(i)):o.length&&((n=o.first().clone()).find("img").attr("src",t),n.find("source").attr("srcset",t),r?(n.find("img").attr("srcset",r).attr("sizes",a),n.find("source").attr("srcset",r).attr("sizes",a)):n.find("img").attr("srcset")&&n.find("img").attr("srcset",t),n.removeClass("xts-hide wp-image-"+d.first().data("image-id")),n.addClass("wp-image-"+e.data("image-id")),o.parent().append(n)))}a.length&&!a.hasClass("xts-inited")&&((s=e).on("click",".xts-prev, .xts-next",function(e){e.preventDefault();var e=r(this),s=e.parents(".xts-product-grid-slider-wrapp"),a=e.parents(".xts-product");if(!(!s.hasClass("xts-nav-arrows")&&1024<XTSThemeModule.$window.width()||!s.hasClass("xts-nav-md-arrows")&&XTSThemeModule.$window.width()<=1024||a.hasClass("xts-product-swatched")||a.hasClass("xts-variation-active"))){var a=a.find(".xts-product-image"),i=s.find(".xts-product-grid-slide");let t=s.find(".xts-product-grid-slide.xts-active").index();e.hasClass("xts-prev")?t--:e.hasClass("xts-next")&&t++,-1===t?t=i.length-1:i.length===t&&(t=0),d(a,i.eq(t))}}),s.hasClass("product-type-variable")&&(e=s.find(".xts-variations_form"),t=s.find(".xts-product-swatches"),e.length?e.one("show_variation",function(){var t=s.find(".xts-product-image"),e=s.find(".xts-product-grid-slider-wrapp .xts-product-grid-slide");1<t.find("> *").length&&d(t,e.eq(0))}):t.length&&t.find(".xts-loop-swatch").on("click",function(){var t,e;r(this).hasClass("xts-active")||(t=s.find(".xts-product-image"),e=s.find(".xts-product-grid-slider-wrapp .xts-product-grid-slide"),1<t.find("> *").length&&d(t,e.eq(0)))})),a.addClass("xts-inited"))})},r(document).ready(function(){XTSThemeModule.imagesGalleryInLoop()})}(jQuery);