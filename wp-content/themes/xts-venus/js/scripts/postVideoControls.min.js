!function(r){XTSThemeModule.$document.on("xtsBlogLoadMoreSuccess",function(){XTSThemeModule.postVideoControls()}),r.each(["frontend/element_ready/xts_blog.default"],function(e,t){XTSThemeModule.xtsElementorAddAction(t,function(){XTSThemeModule.postVideoControls()})}),XTSThemeModule.postVideoControls=function(){function n(e){var t,e=e.find("iframe"),s=e.parents(".xts-post"),o=s.find(".xts-post-control.xts-play"),d=s.find(".xts-post-control.xts-mute");t=new YT.Player(e[0],{events:{onReady:function(){o.on("click",function(){s.hasClass("xts-video-playing")?(s.removeClass("xts-video-playing"),t.pauseVideo()):(s.addClass("xts-video-playing"),t.playVideo())}),d.on("click",function(){s.hasClass("xts-video-muted")?(s.removeClass("xts-video-muted"),t.unMute()):(s.addClass("xts-video-muted"),t.mute())}),o.trigger("click")}}})}function l(e){var e=e.find("iframe"),t=e.parents(".xts-post"),s=t.find(".xts-post-control.xts-play"),o=t.find(".xts-post-control.xts-mute"),d=new Vimeo.Player(e[0]);s.on("click",function(){t.hasClass("xts-video-playing")?(t.removeClass("xts-video-playing"),d.pause()):(t.addClass("xts-video-playing"),d.play())}),o.on("click",function(){t.hasClass("xts-video-muted")?(t.removeClass("xts-video-muted"),d.setVolume(1)):(t.addClass("xts-video-muted"),d.setVolume(0))})}r(".xts-post-controls .xts-play").on("click",function(e){e.preventDefault();var t,s,o,d,a=r(this),i=a.parents(".xts-post-thumb").find(".xts-post-video"),e=i.find("iframe");0===e.length&&(e=i.find("video")),i.hasClass("xts-loaded")||((d=e.data("lazy-load")).indexOf("vimeo.com")+1?d=d.replace("#t=","")+"&autoplay=1":d.indexOf("youtube.com")+1&&(d+="&autoplay=1&rel=0"),e.attr("src",d),i.addClass("xts-loaded"),a.addClass("xts-loading"),i.hasClass("xts-post-video-youtube")?"undefined"==typeof YT||void 0===YT.Player?r.getScript("https://www.youtube.com/player_api",function(){t=setInterval(function(){void 0!==YT.Player&&(clearInterval(t),n(i),a.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded"))},100)}):(n(i),a.removeClass("xts-loading")):i.hasClass("xts-post-video-html5")?(s=(e=i).find("video"),o=s.parents(".xts-post"),e=o.find(".xts-post-control.xts-play"),d=o.find(".xts-post-control.xts-mute"),e.on("click",function(){o.hasClass("xts-video-playing")?(o.removeClass("xts-video-playing"),s[0].pause()):(o.addClass("xts-video-playing"),s[0].play())}),d.on("click",function(){o.hasClass("xts-video-muted")?(o.removeClass("xts-video-muted"),s.prop("muted",!1)):(o.addClass("xts-video-muted"),s.prop("muted",!0))}),a.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded"),a.trigger("click"),a.parents(".xts-post").addClass("xts-video-playing")):i.hasClass("xts-post-video-vimeo")&&("undefined"==typeof Vimeo||void 0===Vimeo.Player?r.getScript(xts_settings.vimeo_library_url,function(){l(i),a.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded")}):(l(i),a.removeClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPostVideoLoaded")),a.trigger("click"),a.parents(".xts-post").addClass("xts-video-playing")))})},r(document).ready(function(){XTSThemeModule.postVideoControls()})}(jQuery);