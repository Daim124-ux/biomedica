!function(m){XTSThemeModule.$document.on("xtsProductTabLoaded xtsElementorProductTabsReady xtsWishlistRemoveSuccess xtsProductLoadMoreReInit xtsPjaxComplete xtsMenuDropdownsAJAXRenderResults",function(){XTSThemeModule.quickShop()}),m.each(["frontend/element_ready/xts_products.default","frontend/element_ready/xts_single_product_tabs.default"],function(t,s){XTSThemeModule.xtsElementorAddAction(s,function(){XTSThemeModule.quickShop()})}),XTSThemeModule.quickShop=function(){function h(t){var s,a=t.parents(".xts-product");a.hasClass("xts-form-first-inited")||(a.addClass("xts-form-first-inited"),s=t,a=parseInt(s.parent().data("variations_count")),!1!==s.data("product_variations"))||60<a||(s.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),s.addClass("loading"),m.ajax({url:xts_settings.ajaxurl,data:{action:"xts_load_variations",id:s.data("product_id")},method:"get",dataType:"json",success:function(t){0<t.length&&s.data("product_variations",t).trigger("reload_product_variations")},complete:function(){s.unblock(),s.removeClass("loading")},error:function(){}}))}m(".xts-product-variations .xts-variations_form").each(function(){var e=m(this),i=e.parents(".xts-product"),n=i.find(".xts-product-image img").first(),r=i.find(".xts-product-image source").first(),t=n.hasClass("xts-lazy-load")?n.attr("data-xts-src"):n.attr("src"),s=n.attr("srcset"),a=n.attr("sizes"),o=i.find(".product_type_variable"),c=o.text(),d=i.find(".price").first(),u=d.html(),l=xts_settings.quick_shop_add_to_cart_text;e.hasClass("xts-quick-inited")||(i.on("mouseenter touchstart mousemove",function(){e.hasClass("xts-wc-variations-inited")||(e.wc_variation_form(),e.addClass("xts-wc-variations-inited"))}),e.on("click",".xts-variation-swatch",function(){h(e)}).on("change","select",function(){h(e)}).on("show_variation",function(t,s,a){e.find(".xts-swatch").length&&!e.find(".xts-swatch.xts-active").length&&e.find("select").each(function(){var t=m(this),s=t.val();s&&t.siblings(".xts-single-product-swatches").find(".xts-swatch[data-term="+s+"]").addClass("xts-active")}),i.addClass("xts-variation-active"),1<s.price_html.length&&d.html(s.price_html),1<s.image.thumb_src.length&&(n.attr("src",s.image.thumb_src),r.attr("srcset",s.image.thumb_src)),1<s.image.srcset.length&&(n.attr("srcset",s.image.srcset),r.attr("srcset",s.image.srcset)),1<s.image.sizes.length&&(n.attr("sizes",s.image.sizes),r.attr("sizes",s.image.sizes)),o.data("purchasable",a),a?o.find("span").text(l):o.find("span").text(c)}).on("hide_variation",function(){i.removeClass("xts-variation-active"),d.html(u),o.data("purchasable",!1),o.find("span").text(c),n.attr("src",t),n.attr("srcset",s),n.attr("sizes",a),r.length&&(s?r.attr("srcset",s):r.attr("srcset",t),r.attr("sizes",a))}),i.on("click",".product_type_variable",function(t){if(!m(this).data("purchasable"))return!0;t.preventDefault(),e.trigger("submit"),o.addClass("loading"),m(document.body).one("added_to_cart",function(){o.removeClass("loading"),o.addClass("added")})}),e.addClass("xts-quick-inited"))})},m(document).ready(function(){XTSThemeModule.quickShop()})}(jQuery);